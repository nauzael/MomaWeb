(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,73375,e=>{"use strict";let t=(0,e.i(75254).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>t],73375)},61300,e=>{"use strict";var t=e.i(43476),r=e.i(71645),l=e.i(57688),a=e.i(37727),n=e.i(31278),s=e.i(55436),i=e.i(35501),o=e.i(73884),c=e.i(67881),d=e.i(44215),u=e.i(47163);function m({isOpen:e,onClose:m,onSelect:h,onSelectMultiple:f,multiple:p=!1,title:x="Seleccionar Imagen"}){let[g,y]=(0,r.useState)([]),[v,b]=(0,r.useState)(!1),[j,w]=(0,r.useState)(""),[N,k]=(0,r.useState)([]);(0,r.useEffect)(()=>{e&&(C(),k([]))},[e]);let C=async()=>{b(!0);try{let e=await (0,d.fetchApi)("gallery/index.php");y(e.images||[])}catch(e){console.error("Failed to load gallery images:",e)}finally{b(!1)}},S=g.filter(e=>(e.alt_text||"").toLowerCase().includes(j.toLowerCase())||e.url.toLowerCase().includes(j.toLowerCase()));return e?(0,t.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",onClick:m,children:(0,t.jsxs)("div",{className:"bg-white w-full max-w-5xl max-h-[90vh] rounded-[2.5rem] shadow-2xl flex flex-col overflow-hidden animate-in zoom-in-95 duration-200",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"p-6 md:p-8 border-b border-stone-100 flex items-center justify-between bg-white",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-black text-stone-900",children:x}),(0,t.jsx)("p",{className:"text-stone-500 text-sm",children:p?`Seleccionadas: ${N.length} im\xe1genes`:"Elige una imagen de la Galería Infinita"})]}),(0,t.jsx)("button",{onClick:m,className:"p-2 hover:bg-stone-100 rounded-full transition-colors text-stone-400 hover:text-stone-900",children:(0,t.jsx)(a.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("div",{className:"p-4 md:px-8 border-b border-stone-50 bg-stone-50/50 flex flex-col md:flex-row gap-4 items-center",children:[(0,t.jsxs)("div",{className:"relative w-full md:max-w-md",children:[(0,t.jsx)(s.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Buscar imágenes...",value:j,onChange:e=>w(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-stone-200 rounded-xl text-sm focus:ring-2 focus:ring-moma-green outline-none transition-all"})]}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsxs)(c.Button,{variant:"ghost",size:"sm",onClick:C,disabled:v,className:"text-stone-500",children:[v?(0,t.jsx)(n.Loader2,{className:"w-4 h-4 animate-spin mr-2"}):null,"Actualizar"]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-6 md:p-8",children:v&&0===g.length?(0,t.jsxs)("div",{className:"h-64 flex flex-col items-center justify-center text-stone-400 gap-4",children:[(0,t.jsx)(n.Loader2,{className:"w-8 h-8 animate-spin"}),(0,t.jsx)("p",{className:"font-medium",children:"Cargando galería..."})]}):S.length>0?(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:S.map(e=>{let r=N.includes(e.url);return(0,t.jsxs)("div",{onClick:()=>(e=>{if(!p){h?.(e),m();return}k(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])})(e.url),className:(0,u.cn)("group relative aspect-square bg-stone-100 rounded-2xl overflow-hidden cursor-pointer border transition-all shadow-sm hover:shadow-md",r?"border-moma-green ring-4 ring-moma-green/20":"border-stone-200 hover:border-moma-green"),children:[(0,t.jsx)(l.default,{src:(0,d.getImageUrl)(e.url.replace("/gallery/","/gallery/thumbs/")),alt:e.alt_text||"Imagen de la galería",fill:!0,sizes:"(max-width: 768px) 50vw, 20vw",className:(0,u.cn)("object-cover transition-transform group-hover:scale-110",r&&"scale-90 opacity-80"),onError:t=>{let r=t.target;r.src.includes("/thumbs/")&&(r.src=(0,d.getImageUrl)(e.url))}}),(0,t.jsx)("div",{className:(0,u.cn)("absolute inset-0 flex items-center justify-center transition-all",r?"bg-moma-green/20":"bg-black/0 group-hover:bg-black/10"),children:r?(0,t.jsx)("div",{className:"bg-moma-green text-black w-8 h-8 rounded-full flex items-center justify-center shadow-lg animate-in zoom-in-50",children:(0,t.jsx)(o.XCircle,{className:"w-5 h-5 fill-black text-moma-green"})}):(0,t.jsx)("div",{className:"bg-white/90 px-3 py-1.5 rounded-full text-[10px] font-black uppercase text-stone-900 shadow-xl opacity-0 group-hover:opacity-100 scale-90 group-hover:scale-100 transition-all",children:p?"Seleccionar":"Elegir"})})]},e.id)})}):(0,t.jsxs)("div",{className:"h-64 flex flex-col items-center justify-center text-stone-400 gap-4 border-2 border-dashed border-stone-100 rounded-3xl",children:[(0,t.jsx)(i.ImageIcon,{className:"w-12 h-12 opacity-20"}),(0,t.jsx)("p",{className:"font-medium italic",children:"No se encontraron imágenes"})]})}),(0,t.jsxs)("div",{className:"p-6 md:px-8 border-t border-stone-100 bg-stone-50/50 flex justify-between items-center",children:[(0,t.jsx)(c.Button,{variant:"outline",onClick:m,className:"rounded-xl px-6 font-bold",children:"Cancelar"}),p&&(0,t.jsxs)(c.Button,{onClick:()=>{p&&f&&f(N),m()},disabled:0===N.length,className:"bg-moma-green text-stone-900 hover:bg-moma-green/90 rounded-xl px-12 font-black shadow-lg shadow-moma-green/20",children:["Añadir ",N.length," ",1===N.length?"imagen":"imágenes"]})]})]})}):null}e.s(["default",()=>m])},55436,e=>{"use strict";let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],55436)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},67881,e=>{"use strict";let t,r,l,a,n;var s=e.i(43476),i=e.i(71645);function o(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var c=Symbol.for("react.lazy"),d=i[" use ".trim().toString()];function u(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===c&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var m=((n=i.forwardRef((e,t)=>{let{children:r,...l}=e;if(u(r)&&"function"==typeof d&&(r=d(r._payload)),i.isValidElement(r)){var a;let e,n,s=(a=r,(n=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(n=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref),c=function(e,t){let r={...t};for(let l in t){let a=e[l],n=t[l];/^on[A-Z]/.test(l)?a&&n?r[l]=(...e)=>{let t=n(...e);return a(...e),t}:a&&(r[l]=a):"style"===l?r[l]={...a,...n}:"className"===l&&(r[l]=[a,n].filter(Boolean).join(" "))}return{...e,...r}}(l,r.props);return r.type!==i.Fragment&&(c.ref=t?function(...e){return t=>{let r=!1,l=e.map(e=>{let l=o(e,t);return r||"function"!=typeof l||(r=!0),l});if(r)return()=>{for(let t=0;t<l.length;t++){let r=l[t];"function"==typeof r?r():o(e[t],null)}}}}(t,s):s),i.cloneElement(r,c)}return i.Children.count(r)>1?i.Children.only(null):null})).displayName="Slot.SlotClone",t=n,(r=i.forwardRef((e,r)=>{let{children:l,...a}=e;u(l)&&"function"==typeof d&&(l=d(l._payload));let n=i.Children.toArray(l),o=n.find(f);if(o){let e=o.props.children,l=n.map(t=>t!==o?t:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,s.jsx)(t,{...a,ref:r,children:i.isValidElement(e)?i.cloneElement(e,void 0,l):null})}return(0,s.jsx)(t,{...a,ref:r,children:l})})).displayName="Slot.Slot",r),h=Symbol("radix.slottable");function f(e){return i.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===h}var p=e.i(7670);let x=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,g=p.clsx;var y=e.i(47163);let v=(l="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",a={variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}},e=>{var t;if((null==a?void 0:a.variants)==null)return g(l,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:r,defaultVariants:n}=a,s=Object.keys(r).map(t=>{let l=null==e?void 0:e[t],a=null==n?void 0:n[t];if(null===l)return null;let s=x(l)||x(a);return r[t][s]}),i=e&&Object.entries(e).reduce((e,t)=>{let[r,l]=t;return void 0===l||(e[r]=l),e},{});return g(l,s,null==a||null==(t=a.compoundVariants)?void 0:t.reduce((e,t)=>{let{class:r,className:l,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...n,...i}[t]):({...n,...i})[t]===r})?[...e,r,l]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)}),b=i.forwardRef(({className:e,variant:t,size:r,asChild:l=!1,...a},n)=>(0,s.jsx)(l?m:"button",{className:(0,y.cn)(v({variant:t,size:r,className:e})),ref:n,...a}));b.displayName="Button",e.s(["Button",()=>b],67881)},56909,e=>{"use strict";let t=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],56909)},73884,e=>{"use strict";let t=(0,e.i(75254).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],73884)},70956,e=>{"use strict";let t=(0,e.i(75254).default)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]);e.s(["List",()=>t],70956)},48256,e=>{"use strict";let t=(0,e.i(75254).default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["Globe",()=>t],48256)},12685,e=>{"use strict";var t=e.i(43476),r=e.i(71645),l=e.i(18566),a=e.i(90477),n=e.i(73375),s=e.i(31278),i=e.i(22016),o=e.i(44215);function c(){let e=(0,l.useSearchParams)().get("id"),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(!0);(0,r.useEffect)(()=>{e?h():m(!1)},[e]);let h=async()=>{try{let t=await (0,o.fetchApi)(`blog/get.php?id=${e}`);d(t.post)}catch(e){console.error("Error loading post:",e)}finally{m(!1)}};return u?(0,t.jsx)("div",{className:"h-screen flex items-center justify-center",children:(0,t.jsx)(s.Loader2,{className:"w-8 h-8 animate-spin text-moma-green"})}):c?(0,t.jsxs)("div",{className:"min-h-screen bg-stone-50/30 dark:bg-stone-950/30 font-inter",children:[(0,t.jsx)("div",{className:"max-w-6xl mx-auto px-4 md:px-8 pt-8",children:(0,t.jsxs)(i.default,{href:"/admin/blog",className:"inline-flex items-center gap-2 text-stone-400 hover:text-stone-900 dark:hover:text-white font-bold transition-all group",children:[(0,t.jsx)("div",{className:"p-2 bg-white dark:bg-stone-900 rounded-xl shadow-sm group-hover:shadow-md transition-all",children:(0,t.jsx)(n.ChevronLeft,{className:"w-5 h-5"})}),(0,t.jsx)("span",{children:"Volver al listado"})]})}),(0,t.jsx)(a.default,{post:c,isEditing:!0})]}):(0,t.jsxs)("div",{className:"h-screen flex flex-col items-center justify-center gap-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-black",children:"Entrada no encontrada"}),(0,t.jsx)(i.default,{href:"/admin/blog",className:"text-moma-green font-bold underline",children:"Volver al listado"})]})}function d(){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)("div",{className:"h-screen flex items-center justify-center",children:(0,t.jsx)(s.Loader2,{className:"w-8 h-8 animate-spin text-moma-green"})}),children:(0,t.jsx)(c,{})})}e.s(["default",()=>d])}]);