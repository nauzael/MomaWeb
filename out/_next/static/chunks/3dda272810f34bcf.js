(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,44215,e=>{"use strict";let t="https://momaexcursiones.co/api";async function r(e,s={}){let o=e.startsWith(t)?e.substring(t.length):e,n=localStorage.getItem("php_session_id"),a=o;if(n){let e=a.includes("?")?"&":"?";a+=`${e}php_session_id=${n}`}let i=a.startsWith("http")?a:`${t}${a.startsWith("/")?a:"/"+a}`,l=new AbortController,c=setTimeout(()=>l.abort(),6e4),u=s.body instanceof FormData,d={...s.headers||{}};n&&(d["X-Session-ID"]=n),u||d["Content-Type"]||(d["Content-Type"]="application/json");let h={...s,headers:d,credentials:"include",signal:l.signal,cache:"no-store"};try{let e=await fetch(i,h);if(clearTimeout(c),204===e.status)return{};let t=await e.text();if(!e.ok){let r=`Error HTTP ${e.status}`;try{let e=JSON.parse(t);e&&e.error&&(r=e.error)}catch(e){t.includes("<?php")?r="Error: El servidor devolvió código PHP. ¿Está el backend PHP configurado?":t&&(r=t.substring(0,100))}throw Error(r)}try{let e=JSON.parse(t);return e&&e.session_id&&localStorage.setItem("php_session_id",e.session_id),e}catch(e){if(console.error("Error al parsear JSON:",t.substring(0,100)),t.includes("<?php"))throw Error("El servidor devolvió el archivo PHP en lugar de ejecutarlo.");throw Error("La respuesta del servidor no es un JSON válido.")}}catch(e){if(clearTimeout(c),"AbortError"===e.name)throw Error("Tiempo de espera agotado. El servidor tardó demasiado en responder.");throw e}}function s(e){if(!e)return"";if(e.startsWith("http")||e.startsWith("data:")||e.startsWith("blob:"))return e;if(e.startsWith("/uploads")){let r=t.endsWith("/api")?t.substring(0,t.length-4):t;return r.startsWith("http")?`${r}${e}`:e}return e}e.s(["fetchApi",()=>r,"getImageUrl",()=>s])},18566,(e,t,r)=>{t.exports=e.r(76562)},13624,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(44215),o=e.i(18566);let n=(0,r.createContext)({user:null,loading:!0,login:async()=>{},logout:async()=>{},refresh:async()=>{}});function a({children:e}){let[a,i]=(0,r.useState)(null),[l,c]=(0,r.useState)(!0),u=(0,o.useRouter)(),d=async()=>{try{let e=await (0,s.fetchApi)("https://momaexcursiones.co/api/auth/me.php");i(e.user)}catch(e){console.error("Auth check failed",e),i(null)}finally{c(!1)}};(0,r.useEffect)(()=>{d()},[]);let h=async e=>{i((await (0,s.fetchApi)("auth/login.php",{method:"POST",body:JSON.stringify(e)})).user),u.refresh()},m=async()=>{await (0,s.fetchApi)("auth/logout.php",{method:"POST"}),localStorage.removeItem("php_session_id"),i(null),u.push("/"),u.refresh()};return(0,t.jsx)(n.Provider,{value:{user:a,loading:l,login:h,logout:m,refresh:d},children:e})}function i(){return(0,r.useContext)(n)}e.s(["AuthProvider",()=>a,"useAuth",()=>i])},89554,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=(e,t,r,s,o,n,a,i)=>{let l=document.documentElement,c=["light","dark"];function u(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,s=r&&n?o.map(e=>n[e]||e):o;r?(l.classList.remove(...s),l.classList.add(n&&n[t]?n[t]:t)):l.setAttribute(e,t)}),r=t,i&&c.includes(r)&&(l.style.colorScheme=r)}if(s)u(s);else try{let e=localStorage.getItem(t)||r,s=a&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;u(s)}catch(e){}},o=["light","dark"],n="(prefers-color-scheme: dark)",a="undefined"==typeof window,i=r.createContext(void 0),l=e=>r.useContext(i)?r.createElement(r.Fragment,null,e.children):r.createElement(u,{...e}),c=["light","dark"],u=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:s=!0,enableColorScheme:a=!0,storageKey:l="theme",themes:u=c,defaultTheme:f=s?"system":"light",attribute:y="data-theme",value:g,children:v,nonce:b,scriptProps:S})=>{let[w,T]=r.useState(()=>h(l,f)),[E,A]=r.useState(()=>"system"===w?p():w),C=g?Object.values(g):u,P=r.useCallback(e=>{let r=e;if(!r)return;"system"===e&&s&&(r=p());let n=g?g[r]:r,i=t?m(b):null,l=document.documentElement,c=e=>{"class"===e?(l.classList.remove(...C),n&&l.classList.add(n)):e.startsWith("data-")&&(n?l.setAttribute(e,n):l.removeAttribute(e))};if(Array.isArray(y)?y.forEach(c):c(y),a){let e=o.includes(f)?f:null,t=o.includes(r)?r:e;l.style.colorScheme=t}null==i||i()},[b]),k=r.useCallback(e=>{let t="function"==typeof e?e(w):e;T(t);try{localStorage.setItem(l,t)}catch(e){}},[w]),x=r.useCallback(t=>{A(p(t)),"system"===w&&s&&!e&&P("system")},[w,e]);r.useEffect(()=>{let e=window.matchMedia(n);return e.addListener(x),x(e),()=>e.removeListener(x)},[x]),r.useEffect(()=>{let e=e=>{e.key===l&&(e.newValue?T(e.newValue):k(f))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[k]),r.useEffect(()=>{P(null!=e?e:w)},[e,w]);let O=r.useMemo(()=>({theme:w,setTheme:k,forcedTheme:e,resolvedTheme:"system"===w?E:w,themes:s?[...u,"system"]:u,systemTheme:s?E:void 0}),[w,k,e,E,s,u]);return r.createElement(i.Provider,{value:O},r.createElement(d,{forcedTheme:e,storageKey:l,attribute:y,enableSystem:s,enableColorScheme:a,defaultTheme:f,value:g,themes:u,nonce:b,scriptProps:S}),v)},d=r.memo(({forcedTheme:e,storageKey:t,attribute:o,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:l,themes:c,nonce:u,scriptProps:d})=>{let h=JSON.stringify([o,t,i,e,c,l,n,a]).slice(1,-1);return r.createElement("script",{...d,suppressHydrationWarning:!0,nonce:"undefined"==typeof window?u:"",dangerouslySetInnerHTML:{__html:`(${s.toString()})(${h})`}})}),h=(e,t)=>{let r;if(!a){try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t}},m=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},p=e=>(e||(e=window.matchMedia(n)),e.matches?"dark":"light");function f({children:e,...r}){return(0,t.jsx)(l,{...r,children:e})}e.s(["ThemeProvider",()=>f],89554)},83107,e=>{"use strict";var t=e.i(43476),r=e.i(13624);function s({children:e}){return(0,t.jsx)(r.AuthProvider,{children:e})}e.s(["default",()=>s])}]);